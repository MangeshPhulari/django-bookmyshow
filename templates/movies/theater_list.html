{% extends "users/basic.html" %}
{% block content %}
<style>
    /* Custom styles remain largely the same, but rely more on BS grid */
    .movie-title { font-size: 2rem; font-weight: bold; text-align: center; margin-bottom: 1.5rem; }
    .theatre-info { padding: 1rem; background-color: #fff; border-radius: 8px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); margin-bottom: 1rem; }
    .info-icons i { margin-right: 0.3rem; font-size: 1rem; /* Smaller icons */ }
    .info-icons span { font-size: 0.8rem; margin-right: 1rem; } /* Added span for text */
    .time-box {
        border: 1px solid #dee2e6; border-radius: 5px;
        padding: 0.5rem 0.75rem; /* Reduced padding */
        text-align: center; background-color: #fff; /* White background */
        transition: transform 0.2s ease, background-color 0.2s ease, box-shadow 0.2s ease;
        text-decoration: none; display: block; /* Make it a block link */
        color: #0d6efd; /* Link color */
        font-weight: bold;
    }
    .time-box:hover {
        transform: translateY(-3px); background-color: #e9ecef; /* Light gray hover */
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        color: #0a58ca;
    }
    .time-box span { display: block; font-size: 0.75rem; color: #6c757d; font-weight: normal; } /* Muted text for sub-info */
    .non-cancellable { font-size: 0.8rem; margin-top: 1rem; color: #6c757d;}
    .no-theaters { text-align: center; margin-top: 2rem; color: #6c757d; }
</style>

<div class="container my-5"> 
    <div class="movie-title">{{ movie.name }}</div>

    {% if theaters %}
        {% for theater in theaters %}
        <div class="theatre-info">
            <div class="row w-100 align-items-center">
                 <div class="col-md-6 mb-2 mb-md-0">
                    <strong>{{ theater.name }}</strong>
                    <div class="info-icons mt-1 d-flex flex-wrap">
                        <span><i class="fas fa-mobile-alt text-success"></i> M-Ticket</span>
                        <span><i class="fas fa-utensils text-warning"></i> F&B</span>
                        
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="row g-2 justify-content-md-end">
                        <div class="col-lg-3 col-md-4 col-sm-4 col-6"> 
                            <a href="{% url 'book_seats' theater.id %}" class="time-box">
                                {{ theater.time|date:"h:i A" }}
                                <span>{{ theater.time|date:"D, M d" }}</span>
                            </a>
                        </div>
                       
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <div class="no-theaters">
            <p>Sorry, no showtimes available for this movie yet.</p>
        </div>
    {% endif %}

    <div class="non-cancellable text-center">
        <i class="fas fa-info-circle text-warning mr-1"></i> Check cancellation policy before booking.
    </div>
</div>
{% endblock %}